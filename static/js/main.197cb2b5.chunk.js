(this.webpackJsonpvault=this.webpackJsonpvault||[]).push([[0],{26:function(e,t,n){},45:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(20),i=n.n(a),s=(n(26),n(3)),u=n(5),o=n.n(u),l=n(21),d=n(11),h=function e(t,n,r){Object(d.a)(this,e),this.name=t,this.type=n,this.parent=r,this.children=[]},f=function(){function e(t){Object(d.a)(this,e),this.root=new h(t,0,null),this.currentNode=this.root,this.path=this.root.name+"/"}return Object(l.a)(e,[{key:"setCurrent",value:function(e){this.currentNode=e}},{key:"getCurrentPath",value:function(){return this.path}},{key:"getNode",value:function(){return this.currentNode}},{key:"getChildren",value:function(){return this.currentNode.children.map((function(e){return e.name}))}},{key:"getFiles",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNode;return e?e.children.filter((function(e){return 1===e.type})).map((function(e){return e.name})).reduce((function(e,t){return e+" "+t}),""):null}},{key:"getDirectories",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNode;return e?e.children.filter((function(e){return 0===e.type})).map((function(e){return e.name})).reduce((function(e,t){return e+" "+t}),""):null}},{key:"existingDirectory",value:function(e){return void 0!==this.currentNode.children.find((function(t){return t.name===e&&0===t.type}))}},{key:"existingFile",value:function(e){return void 0!==this.currentNode.children.find((function(t){return t.name===e&&1===t.type}))}},{key:"getHref",value:function(e,t){return this.existingFile(t)?e+this.pwd()+"/"+t:null}},{key:"ls",value:function(e){var t=this,n=this.currentNode;return e.split("/").forEach((function(e){if(".."!==e)if("~"!==e){var r=n.children.find((function(t){return t.name===e&&0===t.type}));void 0!==r&&(n=r)}else n=t.root;else{if(null===n.parent)return;n=n.parent}})),[this.getDirectories(n),this.getFiles(n)]}},{key:"mkdir",value:function(e){this.currentNode.children.push(new h(e,0,this.currentNode))}},{key:"touch",value:function(e){this.existingFile(e)||this.currentNode.children.push(new h(e,1,this.currentNode))}},{key:"pwd",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.currentNode,t="",n=e;null!==n;)t=n.name+"/"+t,n=n.parent;return t}},{key:"cd",value:function(e){var t=this;e.split("/").forEach((function(e){if(".."!==e)if("~"!==e){var n=t.currentNode.children.find((function(t){return t.name===e&&0===t.type}));void 0!==n&&(t.currentNode=n)}else t.currentNode=t.root;else{if(null===t.currentNode.parent)return;t.currentNode=t.currentNode.parent}})),this.path=this.pwd()}}]),e}(),b=n(4),p=(n(45),n(0)),m=["Currently Working:"," - cd <path> - change directory"," - ls - list files"," - mkdir <dir> - create directory"," - touch <file> - create file"," - pwd - print working directory"," - help - show this message"," - open <file> - opens the contents of the file"," - man/less <file> - opens the contents of the in the terminal"," - about - Michael's Amazing Emulated SHell"],g="help-message",v="info-message",j="https://raw.githubusercontent.com/mxchen2001/mind-palace/";function y(e){var t=new Date,n=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds(),c=Object(r.useState)({width:window.innerWidth,height:window.innerHeight}),a=Object(s.a)(c,2),i=a[0],u=a[1],l=Object(r.useState)([{type:"default",message:"Current Login Time: "+n}]),d=Object(s.a)(l,2),h=d[0],f=d[1],y=Object(r.useState)([]),N=Object(s.a)(y,2),k=N[0],O=N[1],w=Object(r.useState)(k.length),x=Object(s.a)(w,2),E=x[0],S=x[1],C=e.dir,M=Object(r.useRef)(""),A=Object(r.useRef)(""),H=Object(r.useState)(!0),D=Object(s.a)(H,2),T=D[0],z=D[1];return Object(r.useEffect)((function(){var e=function(){u({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),Object(r.useEffect)((function(){var e=function(e){switch(e.key){case"Tab":var t=M.current.value.split(" "),r=t.length>0?t[t.length-1].split("/"):"",c=C.getNode();if(r.forEach((function(e,t){c&&t==r.length-1?c=c.children.find((function(t){return t.name.startsWith(e)})):c&&(c=c.children.find((function(t){return t.name===e&&0===t.type})))})),c&&c!==C.getNode()){var a=r.slice(0,-1).join("/"),i=a+(a.length>0?"/":"")+c.name+"/",u=t.length>1?t.slice(0,-1).join(" ")+" "+i:i;M.current.value=u}break;case"Enter":S(k.length+1),O([].concat(Object(b.a)(k),[M.current.value]));var l=[].concat(Object(b.a)(h),[{className:"default",message:C.getCurrentPath()+" "+M.current.value+"\n"}]),d=M.current.value.split(" ")[0].toLowerCase(),p=M.current.value.split(" ");switch(d){case"ls":var y=C.ls(p.length>1?p[1]:""),N=Object(s.a)(y,2),w=N[0],x=N[1];l.push({className:"dir-message",message:w}),l.push({className:"file-message",message:x});break;case"cd":p.length>1&&C.cd(p[1]);break;case"clear":l=null,z(!0);break;case"mkdir":p.length>1&&C.mkdir(p[1]);break;case"touch":p.length>1&&C.touch(p[1]);break;case"pwd":l.push({className:"default",message:C.pwd()});break;case"help":var H;(H=l).push.apply(H,Object(b.a)(m.map((function(e){return{className:g,message:e+"\n"}}))));break;case"about":l.push({className:g,message:"Michael's Amazing Emulated SHell"});break;case"less":case"man":if(p.length>1){var D={url:C.getHref(j,p[1].replace("/","")),method:"GET"};o()(D).then((function(e){console.log(JSON.stringify(e.data));var t=e.data.split("\n").map((function(e){return{className:v,message:">"+e+" \n"}}));console.log(t),f([].concat(Object(b.a)(l),Object(b.a)(t))),M.current.value=""})).catch((function(e){console.log(e),f(Object(b.a)(l)),M.current.value=""}))}return;case"open":if(p.length>1){var F=C.getHref(j,p[1].replace("/",""));F&&window.open(F,"_blank")}break;case"":T?(l.push({className:v,message:'type "help" for more information'}),z(!1)):l.push({className:"error-message",message:"command not found"})}f(l||[{type:"default",message:"Most Recent Clear Time: "+n}]),M.current.value="";var R=A.current.clientHeight,L=A.current.scrollHeight;R<L&&A.current.scrollTo(0,L);break;case"ArrowUp":E>0&&(M.current.value=k[E-1],S(E-1));break;case"ArrowDown":E<k.length-1?(M.current.value=k[E+1],S(E+1)):(M.current.value="",S(k.length));break;default:"ArrowLeft"!==e.key&&"ArrowRight"!==e.key&&S(k.length)}};return M.current.addEventListener("keydown",e),function(){return M.current.removeEventListener("keydown",e)}}),[k,h,E,T]),Object(p.jsxs)("div",{className:"window",children:[Object(p.jsxs)("div",{className:"topbar",children:[Object(p.jsx)("p",{className:"circle",style:{backgroundColor:"#ef6251"}}),Object(p.jsx)("p",{className:"circle",style:{backgroundColor:"#f6b73d"}}),Object(p.jsx)("p",{className:"circle",style:{backgroundColor:"#51bc45"}}),Object(p.jsxs)("p",{className:"shellname",children:["MAESH ",i.width," x ",i.height]})]}),Object(p.jsxs)("div",{ref:A,onClick:function(){return document.getElementById("input-line").focus()},className:"textzone",children:[Object(p.jsx)("div",{className:"previous-line",children:h.map((function(e,t){return Object(p.jsx)("div",{className:e.className,children:e.message},t)}))}),Object(p.jsxs)("div",{className:"current-line",children:[Object(p.jsx)("div",{children:C.getCurrentPath()}),Object(p.jsx)("input",{id:"input-line",ref:M,className:"current-input",autoFocus:!0,autoComplete:"off"}),Object(p.jsx)("a",{tabIndex:"0",onFocus:function(){return document.getElementById("input-line").focus()}})]})]})]})}JSON.parse('{"sha":"af36688591b2c42da1512fe2c82552b759c8cdb3","url":"https://api.github.com/repos/mxchen2001/mind-palace/git/trees/af36688591b2c42da1512fe2c82552b759c8cdb3","tree":[{"path":"Music","mode":"040000","type":"tree","sha":"50fb3fd1e9bda0c0a0e21e440b88dee2eb7c706f","url":"https://api.github.com/repos/mxchen2001/mind-palace/git/trees/50fb3fd1e9bda0c0a0e21e440b88dee2eb7c706f"},{"path":"Music/README.md","mode":"100644","type":"blob","sha":"c211e81957de3f91cfa3e4060a168223398e71dc","size":44,"url":"https://api.github.com/repos/mxchen2001/mind-palace/git/blobs/c211e81957de3f91cfa3e4060a168223398e71dc"},{"path":"README.md","mode":"100644","type":"blob","sha":"7f4e58df5a2f25aed571aadaed8b5d0d03d5dede","size":47,"url":"https://api.github.com/repos/mxchen2001/mind-palace/git/blobs/7f4e58df5a2f25aed571aadaed8b5d0d03d5dede"},{"path":"STEM","mode":"040000","type":"tree","sha":"535748c23dd6b623fb78fb38180b300a7c662182","url":"https://api.github.com/repos/mxchen2001/mind-palace/git/trees/535748c23dd6b623fb78fb38180b300a7c662182"},{"path":"STEM/Computing","mode":"040000","type":"tree","sha":"b56ec94953488040b796f1baa1e05d86ea1b3982","url":"https://api.github.com/repos/mxchen2001/mind-palace/git/trees/b56ec94953488040b796f1baa1e05d86ea1b3982"},{"path":"STEM/Computing/README.md","mode":"100644","type":"blob","sha":"4943a841b2fb5f118f35f4468f01b289cf1950bf","size":44,"url":"https://api.github.com/repos/mxchen2001/mind-palace/git/blobs/4943a841b2fb5f118f35f4468f01b289cf1950bf"},{"path":"STEM/README.md","mode":"100644","type":"blob","sha":"31fdce5231d39d18da365c1abd70551f3fce2718","size":51,"url":"https://api.github.com/repos/mxchen2001/mind-palace/git/blobs/31fdce5231d39d18da365c1abd70551f3fce2718"}],"truncated":false}');var N=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(r.useEffect)((function(){if(null==n){o()({url:"https://api.github.com/repos/mxchen2001/mind-palace/git/trees/master?recursive=1",method:"GET"}).then((function(e){console.log("Github API request Success");var t=e.data.tree,n=new f("master");t.forEach((function(e){n.cd("~");var t=e.path.split("/");t.forEach((function(r,c){c!==t.length-1||"blob"!==e.type||n.existingFile(r)?n.existingDirectory(r)?n.cd(r):n.mkdir(r):n.touch(r)}))})),n.cd("~"),c(n)})).catch((function(e){console.log(e)}))}}),[]),Object(p.jsx)("div",{className:"App",children:n?Object(p.jsx)(y,{dir:n}):null})};i.a.render(Object(p.jsx)(c.a.StrictMode,{children:Object(p.jsx)(N,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.197cb2b5.chunk.js.map